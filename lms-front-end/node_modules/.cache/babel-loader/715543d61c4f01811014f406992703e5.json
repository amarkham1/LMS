{"ast":null,"code":"import _regeneratorRuntime from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/src/components/Modals/AddNegotiationModal/addnegotiationmodal.js\";\nimport React from 'react';\nimport './addnegotiationmodal.css';\nimport Select from 'react-select';\nimport { css } from 'emotion';\nimport moment from \"moment\";\n\nfunction validate(tenant, unit, property, llbroker, ttbroker) {\n  return {\n    tenant: tenant.length === 0,\n    unit: unit.length === 0,\n    property: property.length === 0,\n    llbroker: llbroker.length === 0,\n    ttbroker: ttbroker.length === 0\n  };\n}\n\nvar AddNegotiationModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddNegotiationModal, _React$Component);\n\n  function AddNegotiationModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddNegotiationModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddNegotiationModal).call(this, props));\n\n    _this.onTenantChange = function (event) {\n      _this.setState({\n        tenant: event.value.tenantname\n      });\n\n      console.log(_this.state.tenant);\n    };\n\n    _this.onPropertyChange = function (event) {\n      _this.setState({\n        property: event.value.propertyname\n      });\n\n      fetch('http://localhost:3000/adddealmodal/unit', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          property: event.value.propertyname\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (units) {\n        units.forEach(function (element) {\n          var dropDownEle = {\n            label: element[\"unit\"],\n            value: element\n          };\n\n          _this.state.unitDropdown.push(dropDownEle);\n        });\n\n        _this.setState({\n          propertyLoaded: true\n        });\n      });\n    };\n\n    _this.onUnitChange = function (event) {\n      _this.setState({\n        unit: event.value.unit\n      });\n    };\n\n    _this.onLLBrokerChange = function (event) {\n      _this.setState({\n        llbroker: event.value.brokername\n      });\n    };\n\n    _this.onTTBrokerChange = function (event) {\n      _this.setState({\n        ttbroker: event.value.brokername\n      });\n    };\n\n    _this.handleBlur = function (field) {\n      return function (event) {\n        _this.setState({\n          touched: _objectSpread({}, _this.state.touched, _defineProperty({}, field, true))\n        });\n      };\n    };\n\n    _this.handleSubmit = function (event) {\n      if (!_this.canBeSubmitted()) {\n        _this.setState({\n          touched: _objectSpread({}, _this.state.touched, {\n            'tenant': true,\n            'property': true,\n            'unit': true,\n            'llbroker': true,\n            'ttbroker': true\n          })\n        });\n\n        event.preventDefault();\n        return;\n      }\n\n      fetch('http://localhost:3000/dealsedit', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          tenant: _this.state.tenant,\n          property: _this.state.property,\n          unit: _this.state.unit,\n          llbroker: _this.state.llbroker,\n          ttbroker: _this.state.ttbroker\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (deal) {\n        if (deal) {\n          _this.props.handleNegNoAdd();\n        } else {\n          console.log(\"uhoh\");\n        }\n      });\n\n      _this.stateClear();\n    };\n\n    _this.stateClear = function () {\n      _this.setState({\n        touched: false,\n        tenant: '',\n        unit: '',\n        property: '',\n        llbroker: '',\n        ttbroker: ''\n      });\n    };\n\n    _this.state = {\n      modalcategory: {\n        thespace: true,\n        timing: false,\n        financialterms: false\n      },\n      tenant: '',\n      unit: '',\n      property: '',\n      llbroker: '',\n      ttbroker: '',\n      touched: {\n        tenant: false,\n        unit: false,\n        property: false,\n        llbroker: false,\n        ttbroker: false\n      },\n      tenantDropdown: [],\n      propertyDropdown: [],\n      unitDropdown: [],\n      llbrokerDropdown: [],\n      ttbrokerDropdown: [],\n      cdate: '',\n      propertyLoaded: false,\n      loaded: false\n    };\n    _this.handleDateChange = _this.handleDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddNegotiationModal, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('http://localhost:3000/adddealmodal/tenant', {\n                  method: 'get',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (tenants) {\n                  tenants.forEach(function (element) {\n                    var dropDownEle = {\n                      label: element[\"tenantname\"],\n                      value: element\n                    };\n\n                    _this2.state.tenantDropdown.push(dropDownEle);\n                  });\n                });\n\n              case 2:\n                _context.next = 4;\n                return fetch('http://localhost:3000/adddealmodal/property', {\n                  method: 'get',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (properties) {\n                  properties.forEach(function (element) {\n                    var dropDownEle = {\n                      label: element[\"propertyname\"],\n                      value: element\n                    };\n\n                    _this2.state.propertyDropdown.push(dropDownEle);\n                  });\n                });\n\n              case 4:\n                _context.next = 6;\n                return fetch('http://localhost:3000/adddealmodal/llbroker', {\n                  method: 'get',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (llbrokers) {\n                  llbrokers.forEach(function (element) {\n                    var dropDownEle = {\n                      label: element[\"brokername\"],\n                      value: element\n                    };\n\n                    _this2.state.llbrokerDropdown.push(dropDownEle);\n                  });\n                });\n\n              case 6:\n                _context.next = 8;\n                return fetch('http://localhost:3000/adddealmodal/ttbroker', {\n                  method: 'get',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (ttbrokers) {\n                  ttbrokers.forEach(function (element) {\n                    var dropDownEle = {\n                      label: element[\"brokername\"],\n                      value: element\n                    };\n\n                    _this2.state.ttbrokerDropdown.push(dropDownEle);\n                  });\n                });\n\n              case 8:\n                this.setState({\n                  loaded: true\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(date) {\n      this.setState({\n        cdate: date\n      });\n    }\n  }, {\n    key: \"canBeSubmitted\",\n    value: function canBeSubmitted() {\n      var errors = validate(this.state.tenant, this.state.unit, this.state.property, this.state.llbroker, this.state.ttbroker);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n      return !isDisabled;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var errors = validate(this.state.tenant, this.state.unit, this.state.property, this.state.llbroker, this.state.ttbroker);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n\n      var shouldMarkError = function shouldMarkError(field) {\n        return errors[field] && _this3.state.touched[field];\n      };\n\n      var showHideClassName = this.props.show ? 'modal display-block' : 'modal display-none';\n      return React.createElement(\"div\", {\n        className: showHideClassName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, this.state.loaded && React.createElement(\"div\", {\n        className: \"modal-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"Add New Stage of Negotiation\", React.createElement(\"p\", {\n        className: this.state.modalcategory['thespace'] ? \"activesub subcategory\" : \"subcategory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"1. The Space\"), React.createElement(\"p\", {\n        className: this.state.modalcategory['timing'] ? \"activesub subcategory\" : \"subcategory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"2. Timing\"), React.createElement(\"p\", {\n        className: this.state.modalcategory['financialterms'] ? \"activesub subcategory\" : \"subcategory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"3. Financial Terms\")), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, this.state.modalcategory['thespace'] && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"modal-body-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"The Space\"), React.createElement(\"div\", {\n        className: \"boxcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkError('property') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Property:\"), React.createElement(Select, {\n        options: this.state.propertyDropdown,\n        className: \"form-input\",\n        classNamePrefix: \"form-input\",\n        onChange: this.onPropertyChange.bind(this),\n        onBlur: this.handleBlur('property'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), this.state.propertyLoaded ? [React.createElement(\"p\", {\n        className: shouldMarkError('unit') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Unit:\"), React.createElement(Select, {\n        options: this.state.unitDropdown,\n        className: \"form-input\",\n        classNamePrefix: \"form-input\",\n        onChange: this.onUnitChange.bind(this),\n        onBlur: this.handleBlur('unit'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      })] : null), React.createElement(\"div\", {\n        className: \"rightbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkError('gla') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"GLA:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        onChange: this.onLLBrokerChange.bind(this),\n        onBlur: this.handleBlur('llbroker'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      })))), React.createElement(\"p\", {\n        className: \"modal-body-header margin-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Timing\"), React.createElement(\"div\", {\n        className: \"boxcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkError('cdate') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Commencement Date: (mm/dd/yyyy)\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('fdate') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Fixturing Start Date: (mm/dd/yyyy)\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rightbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkError('term') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"Term (months):\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('expirydate') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Expiry Date: (mm/dd/yyyy)\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }))), React.createElement(\"p\", {\n        className: \"modal-body-header margin-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"Financial Terms\"), React.createElement(\"div\", {\n        className: \"boxcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkError('rent') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Rent:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('ti') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, \"TI PSF:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rightbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkError('llw') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"LLW:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('extcomm') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"External Commission:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('intcomm') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, \"External Commission:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('gfrent') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"Gross Free Rent:\"), React.createElement(\"input\", {\n        type: \"input\",\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }))), React.createElement(\"p\", {\n        className: shouldMarkError('llbroker') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, \"Landlord Broker:\"), React.createElement(Select, {\n        options: this.state.llbrokerDropdown,\n        className: \"form-input\",\n        classNamePrefix: \"form-input\",\n        onChange: this.onLLBrokerChange.bind(this),\n        onBlur: this.handleBlur('llbroker'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkError('ttbroker') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Tenant Broker:\"), React.createElement(Select, {\n        options: this.state.ttbrokerDropdown,\n        className: \"form-input\",\n        classNamePrefix: \"form-input\",\n        onChange: this.onTTBrokerChange.bind(this),\n        onBlur: this.handleBlur('ttbroker'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, isDisabled ? React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"button add-button-error\",\n        onClick: function onClick(event) {\n          return _this3.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }) : React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"button add-button\",\n        onClick: function onClick(event) {\n          return _this3.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"cancel\",\n        value: \"Cancel\",\n        className: \"button cancel-button\",\n        onClick: function onClick(event) {\n          _this3.props.handleNegNoAdd();\n\n          _this3.stateClear();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return AddNegotiationModal;\n}(React.Component);\n\n;\nexport default AddNegotiationModal;","map":{"version":3,"sources":["/Users/andrewmarkham/Desktop/LMS/lms-front-end/src/components/Modals/AddNegotiationModal/addnegotiationmodal.js"],"names":["React","Select","css","moment","validate","tenant","unit","property","llbroker","ttbroker","length","AddNegotiationModal","props","onTenantChange","event","setState","value","tenantname","console","log","state","onPropertyChange","propertyname","fetch","method","headers","body","JSON","stringify","then","response","json","units","forEach","element","dropDownEle","label","unitDropdown","push","propertyLoaded","onUnitChange","onLLBrokerChange","brokername","onTTBrokerChange","handleBlur","field","touched","handleSubmit","canBeSubmitted","preventDefault","deal","handleNegNoAdd","stateClear","modalcategory","thespace","timing","financialterms","tenantDropdown","propertyDropdown","llbrokerDropdown","ttbrokerDropdown","cdate","loaded","handleDateChange","bind","tenants","properties","llbrokers","ttbrokers","date","errors","isDisabled","Object","keys","some","x","shouldMarkError","showHideClassName","show","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './addnegotiationmodal.css';\nimport Select from 'react-select';\nimport {css} from 'emotion';\nimport moment from \"moment\";\n\nfunction validate(tenant, unit, property, llbroker, ttbroker) { \n  return {\n    tenant: (tenant.length === 0),\n    unit: (unit.length === 0),\n    property: (property.length === 0),\n    llbroker: (llbroker.length === 0),\n    ttbroker: (ttbroker.length === 0),\n  };\n}\n\nclass AddNegotiationModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalcategory: {\n        thespace: true,\n        timing: false,\n        financialterms: false,\n      },\n      tenant: '',\n      unit: '',\n      property: '',\n      llbroker: '',\n      ttbroker: '',\n      touched: {\n        tenant: false,\n        unit: false,\n        property: false,\n        llbroker: false,\n        ttbroker: false\n      },\n      tenantDropdown: [],\n      propertyDropdown: [],\n      unitDropdown: [],\n      llbrokerDropdown: [],\n      ttbrokerDropdown: [],\n      cdate: '',\n      propertyLoaded: false,\n      loaded: false,\n    }\n    this.handleDateChange = this.handleDateChange.bind(this);\n  }\n\n  async componentDidMount() {\n\n    await fetch('http://localhost:3000/adddealmodal/tenant', {\n      method: 'get',\n      headers: {'Content-Type': 'application/json'},\n    })\n      .then(response => response.json())\n      .then(tenants => {\n        tenants.forEach(element => {\n          let dropDownEle = { label: element[\"tenantname\"], value: element };\n          this.state.tenantDropdown.push(dropDownEle);\n        });      \n      })\n\n    await fetch('http://localhost:3000/adddealmodal/property', {\n      method: 'get',\n      headers: {'Content-Type': 'application/json'},\n    })\n      .then(response => response.json())\n      .then(properties => {\n        properties.forEach(element => {\n          let dropDownEle = { label: element[\"propertyname\"], value: element };\n          this.state.propertyDropdown.push(dropDownEle);\n        });      \n      })\n\n    await fetch('http://localhost:3000/adddealmodal/llbroker', {\n      method: 'get',\n      headers: {'Content-Type': 'application/json'},\n    })\n      .then(response => response.json())\n      .then(llbrokers => {\n        llbrokers.forEach(element => {\n          let dropDownEle = { label: element[\"brokername\"], value: element };\n          this.state.llbrokerDropdown.push(dropDownEle);\n        });      \n      })\n\n    await fetch('http://localhost:3000/adddealmodal/ttbroker', {\n      method: 'get',\n      headers: {'Content-Type': 'application/json'},\n    })\n      .then(response => response.json())\n      .then(ttbrokers => {\n        ttbrokers.forEach(element => {\n          let dropDownEle = { label: element[\"brokername\"], value: element };\n          this.state.ttbrokerDropdown.push(dropDownEle);\n        });      \n      })\n\n    this.setState({loaded: true})\n\n  }\n\n  onTenantChange = (event) => {\n    this.setState({tenant: event.value.tenantname})\n    console.log(this.state.tenant)\n  }\n\n  onPropertyChange = (event) => {\n    this.setState({\n      property: event.value.propertyname,\n    })\n\n      fetch('http://localhost:3000/adddealmodal/unit', {\n        method: 'post',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          property: event.value.propertyname,\n        })\n      })\n        .then(response => response.json())\n        .then(units => {\n          units.forEach(element => {\n            let dropDownEle = { label: element[\"unit\"], value: element };\n            this.state.unitDropdown.push(dropDownEle);\n          });  \n          this.setState({propertyLoaded: true})\n        })\n    \n  }\n\n  onUnitChange = (event) => {\n    this.setState({unit: event.value.unit})\n  }\n\n  onLLBrokerChange = (event) => {\n    this.setState({llbroker: event.value.brokername})\n  }\n\n  onTTBrokerChange = (event) => {\n    this.setState({ttbroker: event.value.brokername})\n  }\n\n  handleBlur = (field) => (event) => {\n      this.setState({\n        touched: { ...this.state.touched, [field]: true},\n      });   \n  }\n\n  handleDateChange(date) {\n    this.setState({\n      cdate: date\n    });\n  }\n \n  canBeSubmitted() {\n    const errors = validate(this.state.tenant, this.state.unit, this.state.property, this.state.llbroker, this.state.ttbroker);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    return !isDisabled;\n  }\n\n\n  handleSubmit = (event) => {\n    if (!this.canBeSubmitted()) {\n      this.setState({\n        touched: { ...this.state.touched, 'tenant': true, 'property': true, 'unit': true, 'llbroker': true, 'ttbroker': true}\n      })\n      event.preventDefault();\n      return;\n\n    }\n\n    fetch('http://localhost:3000/dealsedit', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        tenant: this.state.tenant,\n        property: this.state.property,\n        unit: this.state.unit,\n        llbroker: this.state.llbroker,\n        ttbroker: this.state.ttbroker,\n      })\n    })\n      .then(response => response.json())\n      .then(deal => {\n        if(deal) {\n          this.props.handleNegNoAdd();\n        } else { console.log(\"uhoh\")}\n      })\n    this.stateClear();\n  }\n\n  stateClear = () => {\n    this.setState({\n      touched: false,\n      tenant: '',\n      unit: '',\n      property: '',\n      llbroker: '',\n      ttbroker: '',\n    });\n  }\n\n  render() {\n    const errors = validate(this.state.tenant, this.state.unit, this.state.property, this.state.llbroker, this.state.ttbroker);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    const shouldMarkError = (field) => {\n      return errors[field] && this.state.touched[field];\n    }\n\n    const showHideClassName = this.props.show ? 'modal display-block' : 'modal display-none';\n    return (\n      <div className={showHideClassName}>\n        <React.Fragment>\n         { this.state.loaded && (\n           <div className='modal-main'>\n            <div className=\"modal-title\">Add New Stage of Negotiation\n              <p className={this.state.modalcategory['thespace'] ? \"activesub subcategory\" : \"subcategory\"}>1. The Space</p>\n              <p className={this.state.modalcategory['timing'] ? \"activesub subcategory\" : \"subcategory\"}>2. Timing</p>\n              <p className={this.state.modalcategory['financialterms'] ? \"activesub subcategory\" : \"subcategory\"}>3. Financial Terms</p>\n            </div>\n            <div className=\"modal-body\">\n              { this.state.modalcategory['thespace'] && (\n                <React.Fragment>\n                <p className=\"modal-body-header\">The Space</p>\n                <div className=\"boxcontainer\">\n                  <div className=\"leftbox\">\n                    <p className={shouldMarkError('property') ? \"input-title-error\" : \"input-title\"}>Property:</p>\n                    <Select \n                      options={this.state.propertyDropdown}\n                      className=\"form-input\"\n                      classNamePrefix=\"form-input\"\n                      onChange={this.onPropertyChange.bind(this)}\n                      onBlur={this.handleBlur('property')}\n                    />\n\n                  { this.state.propertyLoaded ? ([\n                      <p className={shouldMarkError('unit') ? \"input-title-error\" : \"input-title\"}>Unit:</p>,\n                      <Select \n                        options={this.state.unitDropdown}\n                        className=\"form-input\"\n                        classNamePrefix=\"form-input\"\n                        onChange={this.onUnitChange.bind(this)}\n                        onBlur={this.handleBlur('unit')}\n                      />\n                    ]) : null }\n                  </div>\n                  <div className=\"rightbox\">\n                    <p className={shouldMarkError('gla') ? \"input-title-error\" : \"input-title\"}>GLA:</p>\n                    <input \n                      type=\"input\"\n                      className=\"form-input\"\n                      onChange={this.onLLBrokerChange.bind(this)}\n                      onBlur={this.handleBlur('llbroker')}\n                    />\n                  </div>\n                </div>\n                </React.Fragment>\n              )}\n                <p className=\"modal-body-header margin-top\">Timing</p>\n                <div className=\"boxcontainer\">\n                  <div className=\"leftbox\">\n                    <p className={shouldMarkError('cdate') ? \"input-title-error\" : \"input-title\"}>Commencement Date: (mm/dd/yyyy)</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                    <p className={shouldMarkError('fdate') ? \"input-title-error\" : \"input-title\"}>Fixturing Start Date: (mm/dd/yyyy)</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                  </div>\n                  <div className=\"rightbox\">\n                    <p className={shouldMarkError('term') ? \"input-title-error\" : \"input-title\"}>Term (months):</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                    <p className={shouldMarkError('expirydate') ? \"input-title-error\" : \"input-title\"}>Expiry Date: (mm/dd/yyyy)</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                  </div>\n                </div>\n                <p className=\"modal-body-header margin-top\">Financial Terms</p>\n                <div className=\"boxcontainer\">\n                  <div className=\"leftbox\">\n                    <p className={shouldMarkError('rent') ? \"input-title-error\" : \"input-title\"}>Rent:</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                    <p className={shouldMarkError('ti') ? \"input-title-error\" : \"input-title\"}>TI PSF:</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                  </div>\n                  <div className=\"rightbox\">\n                    <p className={shouldMarkError('llw') ? \"input-title-error\" : \"input-title\"}>LLW:</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                    <p className={shouldMarkError('extcomm') ? \"input-title-error\" : \"input-title\"}>External Commission:</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                    <p className={shouldMarkError('intcomm') ? \"input-title-error\" : \"input-title\"}>External Commission:</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                    <p className={shouldMarkError('gfrent') ? \"input-title-error\" : \"input-title\"}>Gross Free Rent:</p>\n                    <input\n                      type=\"input\"\n                      className=\"form-input\"\n                    />\n                  </div>\n                </div>\n                 \n                <p className={shouldMarkError('llbroker') ? \"input-title-error\" : \"input-title\"}>Landlord Broker:</p>\n                <Select \n                  options={this.state.llbrokerDropdown}\n                  className=\"form-input\"\n                  classNamePrefix=\"form-input\"\n                  onChange={this.onLLBrokerChange.bind(this)}\n                  onBlur={this.handleBlur('llbroker')}\n                />\n\n                <p className={shouldMarkError('ttbroker') ? \"input-title-error\" : \"input-title\"}>Tenant Broker:</p>\n                <Select \n                  options={this.state.ttbrokerDropdown}\n                  className=\"form-input\"\n                  classNamePrefix=\"form-input\"\n                  onChange={this.onTTBrokerChange.bind(this)}\n                  onBlur={this.handleBlur('ttbroker')}\n                />\n\n                <div className=\"line\"></div>\n                <div className=\"buttons\">\n\n                { isDisabled ? (\n                  <input \n                    type=\"submit\" \n                    className=\"button add-button-error\"\n                    onClick={ (event) => this.handleSubmit(event)}\n                  />\n                ) : (\n                  <input \n                    type=\"submit\" \n                    className=\"button add-button\"\n                    onClick={ (event) => this.handleSubmit(event)}\n                  />\n                )}\n\n                <input\n                  type=\"cancel\"\n                  value=\"Cancel\"\n                  className=\"button cancel-button\"\n                  onClick={ (event) => { this.props.handleNegNoAdd(); this.stateClear(); }}\n                />\n\n                </div>\n            </div>\n          </div>\n         )}\n        </React.Fragment>\n      </div>\n    );\n  }\n};\n\nexport default AddNegotiationModal;"]},"metadata":{},"sourceType":"module"}