{"ast":null,"code":"import _defineProperty from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/src/components/Modals/AddDealModal/adddealmodal.js\";\nimport React from 'react';\nimport './adddealmodal.css';\n\nfunction validate(tenant, unit, property, llbroker, ttbroker) {\n  return {\n    tenant: tenant.length === 0,\n    unit: unit.length === 0,\n    property: property.length === 0,\n    llbroker: llbroker.length === 0,\n    ttbroker: ttbroker.length === 0\n  };\n}\n\nvar AddDealModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddDealModal, _React$Component);\n\n  function AddDealModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddDealModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddDealModal).call(this, props));\n\n    _this.onTenantChange = function (event) {\n      _this.setState({\n        tenant: event.target.value\n      });\n    };\n\n    _this.onUnitChange = function (event) {\n      _this.setState({\n        unit: event.target.value\n      });\n    };\n\n    _this.onPropertyChange = function (event) {\n      _this.setState({\n        property: event.target.value\n      });\n    };\n\n    _this.onLLBrokerChange = function (event) {\n      _this.setState({\n        llbroker: event.target.value\n      });\n    };\n\n    _this.onTTBrokerChange = function (event) {\n      _this.setState({\n        ttbroker: event.target.value\n      });\n    };\n\n    _this.handleBlur = function (field) {\n      return function (event) {\n        _this.setState({\n          touched: _objectSpread({}, _this.state.touched, _defineProperty({}, field, true))\n        });\n      };\n    };\n\n    _this.handleSubmit = function () {\n      fetch('http://localhost:3000/dealsedit', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          tenant: _this.state.tenant,\n          property: _this.state.property,\n          unit: _this.state.unit,\n          llbroker: _this.state.llbroker,\n          ttbroker: _this.state.ttbroker\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (deal) {\n        if (deal) {\n          _this.props.handleDealNoAdd();\n        } else {\n          console.log(\"uhoh\");\n        }\n      });\n    };\n\n    _this.handleCancel = function (event) {\n      _this.setState({\n        touched: false,\n        tenant: '',\n        unit: '',\n        property: '',\n        llbroker: '',\n        ttbroker: ''\n      });\n    };\n\n    _this.state = {\n      tenant: '',\n      unit: '',\n      property: '',\n      llbroker: '',\n      ttbroker: '',\n      touched: {\n        tenant: false,\n        unit: false,\n        property: false,\n        llbroker: false,\n        ttbroker: false\n      }\n    };\n    return _this;\n  }\n\n  _createClass(AddDealModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var errors = validate(this.state.tenant, this.state.unit, this.state.property, this.state.llbroker, this.state.ttbroker);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n\n      var shouldMarkError = function shouldMarkError(field) {\n        return errors[field] && _this2.state.touched[field];\n      };\n\n      var showHideClassName = this.props.show ? 'modal display-block' : 'modal display-none';\n      return React.createElement(\"div\", {\n        className: showHideClassName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"modal-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Add New Deal\"), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Tenant Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: shouldMarkError('tenant') ? \"form-input input-error\" : \"form-input\",\n        name: \"tenant\",\n        value: this.state.tenant,\n        onChange: this.onTenantChange,\n        onBlur: this.handleBlur('tenant'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), shouldMarkError('tenant') ? React.createElement(\"p\", {\n        className: \"input-error-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Please provide a tenant name.\") : null, React.createElement(\"p\", {\n        className: \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Property:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: shouldMarkError('property') ? \"form-input input-error\" : \"form-input\",\n        name: \"property\",\n        value: this.state.property,\n        onChange: this.onPropertyChange,\n        onBlur: this.handleBlur('property'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), shouldMarkError('property') ? React.createElement(\"p\", {\n        className: \"input-error-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Please provide a property.\") : null, React.createElement(\"p\", {\n        className: \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Unit:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: shouldMarkError('unit') ? \"form-input input-error\" : \"form-input\",\n        name: \"unit\",\n        value: this.state.unit,\n        onChange: this.onUnitChange,\n        onBlur: this.handleBlur('unit'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), shouldMarkError('unit') ? React.createElement(\"p\", {\n        className: \"input-error-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Please provide a unit number.\") : null, React.createElement(\"p\", {\n        className: \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Landlord Broker:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: shouldMarkError('llbroker') ? \"form-input input-error\" : \"form-input\",\n        name: \"llbroker\",\n        value: this.state.llbroker,\n        onChange: this.onLLBrokerChange,\n        onBlur: this.handleBlur('llbroker'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), shouldMarkError('llbroker') ? React.createElement(\"p\", {\n        className: \"input-error-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Please provide a landlord broker name.\") : null, React.createElement(\"p\", {\n        className: \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Tenant Broker:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: shouldMarkError('ttbroker') ? \"form-input input-error\" : \"form-input\",\n        name: \"llbroker\",\n        value: this.state.ttbroker,\n        onChange: this.onTTBrokerChange,\n        onBlur: this.handleBlur('ttbroker'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), shouldMarkError('ttbroker') ? React.createElement(\"p\", {\n        className: \"input-error-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Please provide a tenant broker name.\") : null, React.createElement(\"div\", {\n        className: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"ADD DEAL\",\n        className: \"button add-button\",\n        onClick: this.onSubmitSignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"cancel\",\n        value: \"CANCEL\",\n        className: \"button cancel-button\",\n        onClick: function onClick(event) {\n          _this2.props.handleDealNoAdd();\n\n          _this2.handleCancel();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return AddDealModal;\n}(React.Component);\n\n;\nexport default AddDealModal;","map":{"version":3,"sources":["/Users/andrewmarkham/Desktop/LMS/lms-front-end/src/components/Modals/AddDealModal/adddealmodal.js"],"names":["React","validate","tenant","unit","property","llbroker","ttbroker","length","AddDealModal","props","onTenantChange","event","setState","target","value","onUnitChange","onPropertyChange","onLLBrokerChange","onTTBrokerChange","handleBlur","field","touched","state","handleSubmit","fetch","method","headers","body","JSON","stringify","then","response","json","deal","handleDealNoAdd","console","log","handleCancel","errors","isDisabled","Object","keys","some","x","shouldMarkError","showHideClassName","show","onSubmitSignIn","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;;AACA,SAASC,QAAT,CAAkBC,MAAlB,EAA0BC,IAA1B,EAAgCC,QAAhC,EAA0CC,QAA1C,EAAoDC,QAApD,EAA8D;AAC5D,SAAO;AACLJ,IAAAA,MAAM,EAAGA,MAAM,CAACK,MAAP,KAAkB,CADtB;AAELJ,IAAAA,IAAI,EAAGA,IAAI,CAACI,MAAL,KAAgB,CAFlB;AAGLH,IAAAA,QAAQ,EAAGA,QAAQ,CAACG,MAAT,KAAoB,CAH1B;AAILF,IAAAA,QAAQ,EAAGA,QAAQ,CAACE,MAAT,KAAoB,CAJ1B;AAKLD,IAAAA,QAAQ,EAAGA,QAAQ,CAACC,MAAT,KAAoB;AAL1B,GAAP;AAOD;;IAEKC,Y;;;;;AACJ,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;;AADiB,UAkBnBC,cAlBmB,GAkBA,UAACC,KAAD,EAAW;AAC5B,YAAKC,QAAL,CAAc;AAACV,QAAAA,MAAM,EAAES,KAAK,CAACE,MAAN,CAAaC;AAAtB,OAAd;AACD,KApBkB;;AAAA,UAsBnBC,YAtBmB,GAsBF,UAACJ,KAAD,EAAW;AAC1B,YAAKC,QAAL,CAAc;AAACT,QAAAA,IAAI,EAAEQ,KAAK,CAACE,MAAN,CAAaC;AAApB,OAAd;AACD,KAxBkB;;AAAA,UA0BnBE,gBA1BmB,GA0BE,UAACL,KAAD,EAAW;AAC9B,YAAKC,QAAL,CAAc;AAACR,QAAAA,QAAQ,EAAEO,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd;AACD,KA5BkB;;AAAA,UA8BnBG,gBA9BmB,GA8BE,UAACN,KAAD,EAAW;AAC9B,YAAKC,QAAL,CAAc;AAACP,QAAAA,QAAQ,EAAEM,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd;AACD,KAhCkB;;AAAA,UAkCnBI,gBAlCmB,GAkCE,UAACP,KAAD,EAAW;AAC9B,YAAKC,QAAL,CAAc;AAACN,QAAAA,QAAQ,EAAEK,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd;AACD,KApCkB;;AAAA,UAsCnBK,UAtCmB,GAsCN,UAACC,KAAD;AAAA,aAAW,UAACT,KAAD,EAAW;AAC/B,cAAKC,QAAL,CAAc;AACZS,UAAAA,OAAO,oBAAO,MAAKC,KAAL,CAAWD,OAAlB,sBAA4BD,KAA5B,EAAoC,IAApC;AADK,SAAd;AAGH,OAJY;AAAA,KAtCM;;AAAA,UA4CnBG,YA5CmB,GA4CJ,YAAM;AACnBC,MAAAA,KAAK,CAAC,iCAAD,EAAoC;AACvCC,QAAAA,MAAM,EAAE,MAD+B;AAEvCC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB,SAF8B;AAGvCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnB3B,UAAAA,MAAM,EAAE,MAAKoB,KAAL,CAAWpB,MADA;AAEnBE,UAAAA,QAAQ,EAAE,MAAKkB,KAAL,CAAWlB,QAFF;AAGnBD,UAAAA,IAAI,EAAE,MAAKmB,KAAL,CAAWnB,IAHE;AAInBE,UAAAA,QAAQ,EAAE,MAAKiB,KAAL,CAAWjB,QAJF;AAKnBC,UAAAA,QAAQ,EAAE,MAAKgB,KAAL,CAAWhB;AALF,SAAf;AAHiC,OAApC,CAAL,CAWGwB,IAXH,CAWQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAXhB,EAYGF,IAZH,CAYQ,UAAAG,IAAI,EAAI;AACZ,YAAGA,IAAH,EAAS;AACP,gBAAKxB,KAAL,CAAWyB,eAAX;AACD,SAFD,MAEO;AAAEC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAAoB;AAC9B,OAhBH;AAiBD,KA9DkB;;AAAA,UAgEnBC,YAhEmB,GAgEJ,UAAC1B,KAAD,EAAW;AACxB,YAAKC,QAAL,CAAc;AACZS,QAAAA,OAAO,EAAE,KADG;AAEZnB,QAAAA,MAAM,EAAE,EAFI;AAGZC,QAAAA,IAAI,EAAE,EAHM;AAIZC,QAAAA,QAAQ,EAAE,EAJE;AAKZC,QAAAA,QAAQ,EAAE,EALE;AAMZC,QAAAA,QAAQ,EAAE;AANE,OAAd;AAQD,KAzEkB;;AAEjB,UAAKgB,KAAL,GAAa;AACXpB,MAAAA,MAAM,EAAE,EADG;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,QAAQ,EAAE,EAHC;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,QAAQ,EAAE,EALC;AAMXe,MAAAA,OAAO,EAAE;AACPnB,QAAAA,MAAM,EAAE,KADD;AAEPC,QAAAA,IAAI,EAAE,KAFC;AAGPC,QAAAA,QAAQ,EAAE,KAHH;AAIPC,QAAAA,QAAQ,EAAE,KAJH;AAKPC,QAAAA,QAAQ,EAAE;AALH;AANE,KAAb;AAFiB;AAgBlB;;;;6BA2DQ;AAAA;;AACP,UAAMgC,MAAM,GAAGrC,QAAQ,CAAC,KAAKqB,KAAL,CAAWpB,MAAZ,EAAoB,KAAKoB,KAAL,CAAWnB,IAA/B,EAAqC,KAAKmB,KAAL,CAAWlB,QAAhD,EAA0D,KAAKkB,KAAL,CAAWjB,QAArE,EAA+E,KAAKiB,KAAL,CAAWhB,QAA1F,CAAvB;AACA,UAAMiC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,IAApB,CAAyB,UAAAC,CAAC;AAAA,eAAIL,MAAM,CAACK,CAAD,CAAV;AAAA,OAA1B,CAAnB;;AACA,UAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACxB,KAAD,EAAW;AACjC,eAAOkB,MAAM,CAAClB,KAAD,CAAN,IAAiB,MAAI,CAACE,KAAL,CAAWD,OAAX,CAAmBD,KAAnB,CAAxB;AACD,OAFD;;AAIA,UAAMyB,iBAAiB,GAAG,KAAKpC,KAAL,CAAWqC,IAAX,GAAkB,qBAAlB,GAA0C,oBAApE;AACA,aACE;AAAK,QAAA,SAAS,EAAED,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAS,QAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAIE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EAAGD,eAAe,CAAC,QAAD,CAAf,GAA6B,wBAA7B,GAAwD,YAFtE;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWpB,MAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKQ,cALjB;AAME,QAAA,MAAM,EAAE,KAAKS,UAAL,CAAgB,QAAhB,CANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAUIyB,eAAe,CAAC,QAAD,CAAf,GACA;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADA,GAEI,IAZR,EAeE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAfF,EAgBE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EAAGA,eAAe,CAAC,UAAD,CAAf,GAA8B,wBAA9B,GAAyD,YAFvE;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWlB,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKY,gBALjB;AAME,QAAA,MAAM,EAAE,KAAKG,UAAL,CAAgB,UAAhB,CANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBF,EAwBIyB,eAAe,CAAC,UAAD,CAAf,GACA;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADA,GAEI,IA1BR,EA6BE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA7BF,EA8BE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EAAGA,eAAe,CAAC,MAAD,CAAf,GAA0B,wBAA1B,GAAqD,YAFnE;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWnB,IAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKY,YALjB;AAME,QAAA,MAAM,EAAE,KAAKI,UAAL,CAAgB,MAAhB,CANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9BF,EAsCIyB,eAAe,CAAC,MAAD,CAAf,GACA;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADA,GAEI,IAxCR,EA2CE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BA3CF,EA4CE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EAAGA,eAAe,CAAC,UAAD,CAAf,GAA8B,wBAA9B,GAAyD,YAFvE;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWjB,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKY,gBALjB;AAME,QAAA,MAAM,EAAE,KAAKE,UAAL,CAAgB,UAAhB,CANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5CF,EAoDIyB,eAAe,CAAC,UAAD,CAAf,GACA;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADA,GAEI,IAtDR,EAyDE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAzDF,EA0DE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EAAGA,eAAe,CAAC,UAAD,CAAf,GAA8B,wBAA9B,GAAyD,YAFvE;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWhB,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKY,gBALjB;AAME,QAAA,MAAM,EAAE,KAAKC,UAAL,CAAgB,UAAhB,CANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1DF,EAkEIyB,eAAe,CAAC,UAAD,CAAf,GACA;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADA,GAEI,IApER,EAsEE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtEF,EAuEE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,KAAK,EAAC,UAFR;AAGE,QAAA,SAAS,EAAC,mBAHZ;AAIE,QAAA,OAAO,EAAE,KAAKG,cAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQG;AACC,QAAA,IAAI,EAAC,QADN;AAEC,QAAA,KAAK,EAAC,QAFP;AAGC,QAAA,SAAS,EAAC,sBAHX;AAIC,QAAA,OAAO,EAAG,iBAACpC,KAAD,EAAW;AAAE,UAAA,MAAI,CAACF,KAAL,CAAWyB,eAAX;;AAA8B,UAAA,MAAI,CAACG,YAAL;AAAqB,SAJ3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARH,CAvEF,CAJF,CADF,CADF;AAgGD;;;;EApLwBrC,KAAK,CAACgD,S;;AAqLhC;AAED,eAAexC,YAAf","sourcesContent":["import React from 'react';\nimport './adddealmodal.css';\nfunction validate(tenant, unit, property, llbroker, ttbroker) { \n  return {\n    tenant: (tenant.length === 0),\n    unit: (unit.length === 0),\n    property: (property.length === 0),\n    llbroker: (llbroker.length === 0),\n    ttbroker: (ttbroker.length === 0),\n  };\n}\n\nclass AddDealModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tenant: '',\n      unit: '',\n      property: '',\n      llbroker: '',\n      ttbroker: '',\n      touched: {\n        tenant: false,\n        unit: false,\n        property: false,\n        llbroker: false,\n        ttbroker: false\n      },\n    }\n  }\n\n  onTenantChange   = (event) => {\n    this.setState({tenant: event.target.value})\n  }\n\n  onUnitChange   = (event) => {\n    this.setState({unit: event.target.value})\n  }\n\n  onPropertyChange   = (event) => {\n    this.setState({property: event.target.value})\n  }\n\n  onLLBrokerChange   = (event) => {\n    this.setState({llbroker: event.target.value})\n  }\n\n  onTTBrokerChange   = (event) => {\n    this.setState({ttbroker: event.target.value})\n  }\n\n  handleBlur = (field) => (event) => {\n      this.setState({\n        touched: { ...this.state.touched, [field]: true},\n      });   \n  }\n \n  handleSubmit = () => {\n    fetch('http://localhost:3000/dealsedit', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        tenant: this.state.tenant,\n        property: this.state.property,\n        unit: this.state.unit,\n        llbroker: this.state.llbroker,\n        ttbroker: this.state.ttbroker,\n      })\n    })\n      .then(response => response.json())\n      .then(deal => {\n        if(deal) {\n          this.props.handleDealNoAdd();\n        } else { console.log(\"uhoh\")}\n      })\n  }\n\n  handleCancel = (event) => {\n    this.setState({\n      touched: false,\n      tenant: '',\n      unit: '',\n      property: '',\n      llbroker: '',\n      ttbroker: '',\n    });\n  }\n\n  render() {\n    const errors = validate(this.state.tenant, this.state.unit, this.state.property, this.state.llbroker, this.state.ttbroker);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    const shouldMarkError = (field) => {\n      return errors[field] && this.state.touched[field];\n    }\n\n    const showHideClassName = this.props.show ? 'modal display-block' : 'modal display-none';\n    return (\n      <div className={showHideClassName}>\n        <section className='modal-main'>\n          <div className=\"modal-title\">\n            Add New Deal\n          </div>\n          <div className=\"modal-body\">\n            <p className=\"input-title\">Tenant Name:</p>\n            <input \n              type=\"text\" \n              className={ shouldMarkError('tenant') ?  \"form-input input-error\" : \"form-input\"}\n              name=\"tenant\" \n              value={this.state.tenant}\n              onChange={this.onTenantChange}\n              onBlur={this.handleBlur('tenant')}\n            />\n            { shouldMarkError('tenant') ? (\n              <p className=\"input-error-text\">Please provide a tenant name.</p>\n              ) : null\n            }\n\n            <p className=\"input-title\">Property:</p>\n            <input \n              type=\"text\" \n              className={ shouldMarkError('property') ? \"form-input input-error\" : \"form-input\"}\n              name=\"property\" \n              value={this.state.property}\n              onChange={this.onPropertyChange}\n              onBlur={this.handleBlur('property')}\n            />  \n            { shouldMarkError('property') ? (\n              <p className=\"input-error-text\">Please provide a property.</p>\n              ) : null\n            }\n\n            <p className=\"input-title\">Unit:</p>\n            <input \n              type=\"text\" \n              className={ shouldMarkError('unit') ? \"form-input input-error\" : \"form-input\"}\n              name=\"unit\" \n              value={this.state.unit}\n              onChange={this.onUnitChange}\n              onBlur={this.handleBlur('unit')}\n            />  \n            { shouldMarkError('unit') ? (\n              <p className=\"input-error-text\">Please provide a unit number.</p>\n              ) : null\n            }\n\n            <p className=\"input-title\">Landlord Broker:</p>\n            <input \n              type=\"text\" \n              className={ shouldMarkError('llbroker') ? \"form-input input-error\" : \"form-input\"}\n              name=\"llbroker\" \n              value={this.state.llbroker}\n              onChange={this.onLLBrokerChange}\n              onBlur={this.handleBlur('llbroker')}\n            />    \n            { shouldMarkError('llbroker') ? (\n              <p className=\"input-error-text\">Please provide a landlord broker name.</p>\n              ) : null\n            }\n\n            <p className=\"input-title\">Tenant Broker:</p>\n            <input \n              type=\"text\" \n              className={ shouldMarkError('ttbroker') ? \"form-input input-error\" : \"form-input\"}\n              name=\"llbroker\" \n              value={this.state.ttbroker}\n              onChange={this.onTTBrokerChange}\n              onBlur={this.handleBlur('ttbroker')}\n            />   \n            { shouldMarkError('ttbroker') ? (\n              <p className=\"input-error-text\">Please provide a tenant broker name.</p>\n              ) : null\n            }\n            <div className=\"line\"></div>\n            <div className=\"buttons\">\n              <input \n                type=\"submit\" \n                value=\"ADD DEAL\" \n                className=\"button add-button\"\n                onClick={this.onSubmitSignIn}\n              />\n\n               <input \n                type=\"cancel\" \n                value=\"CANCEL\" \n                className=\"button cancel-button\"\n                onClick={ (event) => { this.props.handleDealNoAdd(); this.handleCancel();}}\n              />\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n};\n\nexport default AddDealModal;"]},"metadata":{},"sourceType":"module"}