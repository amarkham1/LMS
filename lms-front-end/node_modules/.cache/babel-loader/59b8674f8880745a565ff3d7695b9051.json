{"ast":null,"code":"import _regeneratorRuntime from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrewmarkham/Desktop/LMS/lms-front-end/src/components/Modals/AddNegotiationModal/addnegotiationmodal.js\";\nimport React from 'react';\nimport './addnegotiationmodal.css';\nimport Select from 'react-select';\nimport moment from \"moment\";\nimport PropTypes from 'prop-types';\n\nfunction validateTheSpace(propertyname, unit, gla) {\n  return {\n    propertyname: propertyname.length === 0,\n    unit: unit.length === 0,\n    gla: gla.length === 0\n  };\n}\n\nfunction validateTiming(cdate, term, fdate) {\n  return {\n    cdate: cdate.length === 0,\n    term: term.length === 0,\n    fdate: fdate.length === 0\n  };\n}\n\nfunction validateFinancialTerms(rent1, rent1months, ti, intcomm, extcomm, llw, gfrent, gfrentmonths) {\n  return {\n    rent1: rent1.length === 0,\n    rent1months: rent1months.length === 0,\n    ti: ti.length === 0,\n    intcomm: intcomm.length === 0,\n    extcomm: extcomm.length === 0,\n    llw: llw.length === 0,\n    gfrent: gfrent.length === 0,\n    gfrentmonths: gfrentmonths.length === 0\n  };\n}\n\nvar AddNegotiationModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddNegotiationModal, _React$Component);\n\n  function AddNegotiationModal(props) {\n    var _this;\n\n    _classCallCheck(this, AddNegotiationModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddNegotiationModal).call(this, props));\n\n    _this.onPropertyChange = function (event) {\n      _this.setState({\n        propertyname: event.value.propertyname\n      });\n\n      fetch('http://localhost:3000/adddealmodal/unit', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          property: event.value.propertyname\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (units) {\n        units.forEach(function (element) {\n          var dropDownEle = {\n            label: element[\"unit\"],\n            value: element\n          };\n\n          _this.state.unitDropdown.push(dropDownEle);\n        });\n\n        _this.setState({\n          propertyLoaded: true\n        });\n      });\n    };\n\n    _this.onChange = name = function (_name) {\n      function name(_x) {\n        return _name.apply(this, arguments);\n      }\n\n      name.toString = function () {\n        return _name.toString();\n      };\n\n      return name;\n    }(function (event) {\n      _this.setSate(_defineProperty({}, name, event));\n    });\n\n    _this.onUnitChange = function (event) {\n      _this.setState({\n        unit: event.value.unit\n      });\n    };\n\n    _this.onGLAChange = function (event) {\n      _this.setState({\n        gla: event.target.value\n      });\n    };\n\n    _this.onStatusChange = function (event) {\n      _this.setState({\n        status: event.target.value\n      });\n    };\n\n    _this.onCDateChange = function (event) {\n      _this.setState({\n        cdate: event.target.value\n      });\n    };\n\n    _this.onTermChange = function (event) {\n      _this.setState({\n        term: event.target.value\n      });\n    };\n\n    _this.onRent1Change = function (event) {\n      _this.setState({\n        rent1: event.target.value,\n        rent1months: _this.state.term,\n        rent1start: _this.state.cdate,\n        rent1end: _this.state.expirydate\n      });\n    };\n\n    _this.onRent1MonthsChange = function (event) {\n      _this.setState({\n        rent1months: event.target.value\n      });\n    };\n\n    _this.onFDateChange = function (event) {\n      _this.setState({\n        fdate: event.target.value\n      });\n    };\n\n    _this.onTIChange = function (event) {\n      _this.setState({\n        ti: event.target.value\n      });\n    };\n\n    _this.onIntCommChange = function (event) {\n      _this.setState({\n        intcomm: event.target.value\n      });\n    };\n\n    _this.onExtCommChange = function (event) {\n      _this.setState({\n        extcomm: event.target.value\n      });\n    };\n\n    _this.onLLWChange = function (event) {\n      _this.setState({\n        llw: event.target.value\n      });\n    };\n\n    _this.onFreeRentChange = function (event) {\n      _this.setState({\n        gfrent: event.target.value\n      });\n    };\n\n    _this.onFreeRentMonthsChange = function (event) {\n      var gfrentstartMoment = moment(_this.state.cdate, 'YYYY-MM-DD');\n      var gfrentstart = moment(gfrentstartMoment).format('YYYY-MM-DD');\n      var gfrentend = gfrentstartMoment.add(event.target.value, 'months').format('YYYY-MM-DD');\n\n      _this.setState({\n        gfrentmonths: event.target.value,\n        gfrentstart: gfrentstart,\n        gfrentend: gfrentend\n      });\n    };\n\n    _this.handleBlur = function (field) {\n      return function (event) {\n        _this.setState({\n          touched: _objectSpread({}, _this.state.touched, _defineProperty({}, field, true))\n        });\n\n        if (field === 'cdate' || field === 'term') {\n          if (_this.state.cdate && _this.state.term) {\n            var cdateMoment = moment(_this.state.cdate, 'YYYY-MM-DD');\n            var expirydate = cdateMoment.add(_this.state.term, 'months').subtract(1, 'days').format('YYYY-MM-DD');\n            var expirydateOutput = moment(expirydate).format('YYYY-MM-DD');\n\n            _this.setState({\n              expirydate: expirydate\n            });\n\n            _this.setState({\n              expirydateOutput: expirydateOutput\n            });\n          }\n        }\n      };\n    };\n\n    _this.handleSubmit = function (event) {\n      if (!_this.canBeSubmitted()) {\n        _this.setState({\n          touched: _objectSpread({}, _this.state.touched, {\n            'rent1': true,\n            'rent1months': true,\n            'ti': true,\n            'intcomm': true,\n            'extcomm': true,\n            'llw': true,\n            'gfrent': true,\n            'gfrentmonths': true\n          })\n        });\n\n        event.preventDefault();\n        return;\n      }\n\n      var fetchURL = \"http://localhost:3000/dealneg/\".concat(_this.props.dealid);\n      fetch(fetchURL, {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          dealid: _this.props.dealid,\n          propertyname: _this.state.propertyname,\n          unit: _this.state.unit,\n          gla: _this.state.gla,\n          status: _this.state.status,\n\n          /* add active */\n          cdate: _this.state.cdate,\n          fdate: _this.state.fdate,\n          rent1: _this.state.rent1,\n          rent1start: _this.state.rent1start,\n          rent1months: _this.state.rent1months,\n          rent1end: _this.state.rent1end,\n          ti: _this.state.ti,\n          intcomm: _this.state.intcomm,\n          extcomm: _this.state.extcomm,\n          llw: _this.state.llw,\n          gfrent: _this.state.gfrent,\n          gfrentstart: _this.state.gfrentstart,\n          gfrentend: _this.state.gfrentend\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (dealneg) {\n        if (dealneg) {\n          _this.props.handleNegNoAdd();\n\n          _this.props.loadDeal();\n        } else {\n          console.log(\"failure\");\n        }\n      });\n\n      _this.stateClear();\n    };\n\n    _this.handleNext = function (event) {\n      if (_this.state.modalcategory['thespace']) {\n        if (!_this.canNextTheSpace()) {\n          _this.setState({\n            touched: _objectSpread({}, _this.state.touched, {\n              'property': true,\n              'unit': true,\n              'gla': true\n            })\n          });\n\n          event.preventDefault();\n          return;\n        } else {\n          _this.setState({\n            modalcategory: _objectSpread({}, _this.state.modalcategory, {\n              'timing': true,\n              'thespace': false\n            })\n          });\n        }\n      } else if (_this.state.modalcategory['timing']) {\n        if (!_this.canNextTiming()) {\n          _this.setState({\n            touched: _objectSpread({}, _this.state.touched, {\n              'fdate': true,\n              'cdate': true,\n              'term': true,\n              'expirydate': true\n            })\n          });\n\n          event.preventDefault();\n          return;\n        } else {\n          _this.setState({\n            modalcategory: _objectSpread({}, _this.state.modalcategory, {\n              'financialterms': true,\n              'timing': false\n            })\n          });\n\n          event.preventDefault();\n          return;\n        }\n      }\n    };\n\n    _this.handleBack = function () {\n      if (_this.state.modalcategory['timing']) {\n        _this.setState({\n          modalcategory: _objectSpread({}, _this.state.modalcategory, {\n            'timing': false,\n            'thespace': true\n          })\n        });\n      } else if (_this.state.modalcategory['financialterms']) {\n        _this.setState({\n          modalcategory: _objectSpread({}, _this.state.modalcategory, {\n            'financialterms': false,\n            'timing': true\n          })\n        });\n      }\n    };\n\n    _this.stateClear = function () {\n      _this.setState({\n        modalcategory: {\n          thespace: true,\n          timing: false,\n          financialterms: false\n        },\n        unit: '',\n        propertyname: '',\n        gla: '',\n        status: '',\n        cdate: '',\n        term: '',\n        expirydate: '',\n        fdate: '',\n        rent1: '',\n        rent1months: '',\n        rent1start: '',\n        rent1end: '',\n        ti: '',\n        intcomm: '',\n        extcomm: '',\n        llw: '',\n        gfrent: '',\n        gfrentstart: '',\n        gfrentend: '',\n        touched: {\n          unit: false,\n          propertyname: false,\n          gla: false,\n          status: false,\n          cdate: false,\n          term: false,\n          fdate: false,\n          rent1: false,\n          rent1months: false,\n          ti: false,\n          intcomm: false,\n          extcomm: false,\n          llw: false\n        },\n        propertyLoaded: false\n      });\n    };\n\n    _this.state = {\n      modalcategory: {\n        thespace: false,\n        timing: false,\n        financialterms: true\n      },\n      unit: '',\n      propertyname: '',\n      gla: '',\n      status: '',\n      cdate: '',\n      term: '',\n      expirydate: '',\n      expirydateOutput: '',\n      fdate: '',\n      rent1: '',\n      rent1months: '',\n      rent1start: '',\n      rent1end: '',\n      ti: '',\n      intcomm: '',\n      extcomm: '',\n      llw: '',\n      gfrent: '',\n      gfrentmonths: '',\n      gfrentstart: '',\n      gfrentend: '',\n      touched: {\n        unit: false,\n        propertyname: false,\n        gla: false,\n        status: false,\n        cdate: false,\n        term: false,\n        fdate: false,\n        rent1: false,\n        rent1months: false,\n        ti: false,\n        intcomm: false,\n        extcomm: false,\n        llw: false,\n        freerent: false\n      },\n      propertyDropdown: [],\n      unitDropdown: [],\n      propertyLoaded: false,\n      loaded: false\n    };\n    return _this;\n  }\n\n  _createClass(AddNegotiationModal, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('http://localhost:3000/adddealmodal/property', {\n                  method: 'get',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (properties) {\n                  properties.forEach(function (element) {\n                    var dropDownEle = {\n                      label: element[\"propertyname\"],\n                      value: element\n                    };\n\n                    _this2.state.propertyDropdown.push(dropDownEle);\n                  });\n                });\n\n              case 2:\n                this.setState({\n                  loaded: true\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"canNextTheSpace\",\n    value: function canNextTheSpace() {\n      var errors = validateTheSpace(this.state.propertyname, this.state.unit, this.state.gla);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n      return !isDisabled;\n    }\n  }, {\n    key: \"canNextTiming\",\n    value: function canNextTiming() {\n      var errors = validateTiming(this.state.cdate, this.state.term, this.state.fdate);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n      return !isDisabled;\n    }\n  }, {\n    key: \"canBeSubmitted\",\n    value: function canBeSubmitted() {\n      var errors = validateFinancialTerms(this.state.rent1, this.state.rent1months, this.state.ti, this.state.intcomm, this.state.extcomm, this.state.llw, this.state.gfrent, this.state.gfrentmonths);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n      return !isDisabled;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var errorsTheSpace = validateTheSpace(this.state.propertyname, this.state.unit, this.state.gla);\n      var errorsTiming = validateTiming(this.state.cdate, this.state.term, this.state.fdate);\n      var errorsFinancialTerms = validateFinancialTerms(this.state.rent1, this.state.rent1months, this.state.ti, this.state.intcomm, this.state.extcomm, this.state.llw, this.state.gfrent, this.state.gfrentmonths);\n      var isTheSpaceDisabled = Object.keys(errorsTheSpace).some(function (x) {\n        return errorsTheSpace[x];\n      });\n      var isTimingDisabled = Object.keys(errorsTiming).some(function (x) {\n        return errorsTiming[x];\n      });\n      var isFinancialTermsDisabled = Object.keys(errorsFinancialTerms).some(function (x) {\n        return errorsFinancialTerms[x];\n      });\n\n      var shouldMarkTheSpaceError = function shouldMarkTheSpaceError(field) {\n        return errorsTheSpace[field] && _this3.state.touched[field];\n      };\n\n      var shouldMarkTimingError = function shouldMarkTimingError(field) {\n        return errorsTiming[field] && _this3.state.touched[field];\n      };\n\n      var shouldMarkFinancialTermsError = function shouldMarkFinancialTermsError(field) {\n        return errorsFinancialTerms[field] && _this3.state.touched[field];\n      };\n\n      var showHideClassName = this.props.show ? 'neg-modal display-block' : 'neg-modal display-none';\n      return React.createElement(\"div\", {\n        className: showHideClassName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, this.state.loaded && React.createElement(\"div\", {\n        className: \"neg-modal-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"neg-modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, \"Add New Stage of Negotiation\"), React.createElement(\"div\", {\n        className: \"neg-modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"neg-modal-body-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: this.state.modalcategory['thespace'] ? \"neg-header-sub active-sub\" : \"neg-header-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, \"1. The Space\"), React.createElement(\"p\", {\n        className: this.state.modalcategory['timing'] ? \"neg-header-sub active-sub\" : \"neg-header-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, \"2. Timing\"), React.createElement(\"p\", {\n        className: this.state.modalcategory['financialterms'] ? \"neg-header-sub active-sub\" : \"neg-header-sub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"3. Financial Terms\")), this.state.modalcategory['thespace'] ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"neg-boxcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkTheSpaceError('property') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, \"Property:\"), React.createElement(Select, {\n        options: this.state.propertyDropdown,\n        className: \"neg-form-input\",\n        classNamePrefix: \"neg-form-input\",\n        onChange: this.onPropertyChange,\n        onBlur: this.handleBlur('property'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }), this.state.propertyLoaded ? [React.createElement(\"p\", {\n        className: shouldMarkTheSpaceError('unit') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"Unit:\"), React.createElement(Select, {\n        options: this.state.unitDropdown,\n        className: \"neg-form-input\",\n        classNamePrefix: \"neg-form-input\",\n        onChange: this.onUnitChange,\n        onBlur: this.handleBlur('unit'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      })] : null), React.createElement(\"div\", {\n        className: \"rightbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkTheSpaceError('gla') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, \"GLA:\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.gla,\n        className: \"neg-form-input\",\n        onChange: this.onGLAChange,\n        onBlur: this.handleBlur('gla'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkTheSpaceError('status') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, \"Negotiation Round:\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.status,\n        className: \"neg-form-input\",\n        onChange: this.onStatusChange,\n        onBlur: this.handleBlur('status'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      })))) : this.state.modalcategory['timing'] ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"neg-boxcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkTimingError('cdate') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, \"Commencement Date: (YYYY-MM-DD)\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.cdate,\n        className: \"neg-form-input\",\n        onChange: this.onCDateChange,\n        onBlur: this.handleBlur('cdate'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkTimingError('fdate') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, \"Fixturing Start Date: (YYYY-MM-DD)\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.fdate,\n        className: \"neg-form-input\",\n        onChange: this.onFDateChange,\n        onBlur: this.handleBlur('fdate'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rightbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkTimingError('term') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, \"Term (months):\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.term,\n        className: \"neg-form-input\",\n        onChange: this.onTermChange,\n        onBlur: this.handleBlur('term'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, \"Expiry Date: (YYYY-MM-DD)\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.expirydateOutput,\n        placeholder: this.state.expirydateOutput,\n        className: \"neg-form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      })))) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"neg-boxcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkFinancialTermsError('rent') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, \"Rent:\"), React.createElement(\"div\", {\n        className: \"input-box-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-box-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"input-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, \"PSF Amount:\")), React.createElement(\"div\", {\n        className: \"input-box-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.rent1,\n        className: \"neg-form-input\",\n        onChange: this.onRent1Change,\n        onBlur: this.handleBlur('rent1'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-box-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"input-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }, \"Months:\")), React.createElement(\"div\", {\n        className: \"input-box-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.rent1months,\n        placeholder: this.state.rent1months,\n        className: \"neg-form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536\n        },\n        __self: this\n      }))), React.createElement(\"p\", {\n        className: shouldMarkFinancialTermsError('ti') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544\n        },\n        __self: this\n      }, \"TI PSF:\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.ti,\n        className: \"neg-form-input\",\n        onChange: this.onTIChange,\n        onBlur: this.handleBlur('ti'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkFinancialTermsError('llw') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552\n        },\n        __self: this\n      }, \"LLW:\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.llw,\n        className: \"neg-form-input\",\n        onChange: this.onLLWChange,\n        onBlur: this.handleBlur('llw'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"rightbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: shouldMarkFinancialTermsError('extcomm') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }, \"External Commission:\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.extcomm,\n        className: \"neg-form-input\",\n        onChange: this.onExtCommChange,\n        onBlur: this.handleBlur('extcomm'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkFinancialTermsError('intcomm') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570\n        },\n        __self: this\n      }, \"Internal Commission:\"), React.createElement(\"input\", {\n        type: \"input\",\n        value: this.state.intcomm,\n        className: \"neg-form-input\",\n        onChange: this.onIntCommChange,\n        onBlur: this.handleBlur('intcomm'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: shouldMarkFinancialTermsError('gfrent') ? \"input-title-error\" : \"input-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578\n        },\n        __self: this\n      }, \"Free Rent:\"), React.createElement(\"div\", {\n        className: \"input-box-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-box-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"input-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, \"PSF Amount:\")), React.createElement(\"div\", {\n        className: \"input-box-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"input\",\n        className: \"neg-form-input-small\",\n        onChange: this.onFreeRentChange,\n        onBlur: this.handleBlur('gfrent'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-box-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"input-subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      }, \"# of Months:\")), React.createElement(\"div\", {\n        className: \"input-box-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"input\",\n        className: \"neg-form-input-small\",\n        onChange: this.onFreeRentMonthsChange,\n        onBlur: this.handleBlur('gfrentmonths'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      })))))), React.createElement(\"div\", {\n        className: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"neg-buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611\n        },\n        __self: this\n      }, !this.state.modalcategory['thespace'] && React.createElement(\"input\", {\n        type: \"back\",\n        value: \"Back\",\n        className: \"button cancel-button float-left\",\n        onClick: function onClick(event) {\n          return _this3.handleBack(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621\n        },\n        __self: this\n      }, (this.state.modalcategory['thespace'] && isTheSpaceDisabled || this.state.modalcategory['timing'] && isTimingDisabled) && React.createElement(\"input\", {\n        type: \"next\",\n        value: \"Next\",\n        className: \"button add-button-error float-right\",\n        onClick: function onClick(event) {\n          return _this3.handleNext(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624\n        },\n        __self: this\n      }), this.state.modalcategory['financialterms'] && isFinancialTermsDisabled && React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        className: \"button add-button-error float-right\",\n        onClick: function onClick(event) {\n          return _this3.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633\n        },\n        __self: this\n      }), (this.state.modalcategory['thespace'] && !isTheSpaceDisabled || this.state.modalcategory['timing'] && !isTimingDisabled) && React.createElement(\"input\", {\n        type: \"next\",\n        value: \"Next\",\n        className: \"button add-button float-right\",\n        onClick: function onClick(event) {\n          return _this3.handleNext(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 642\n        },\n        __self: this\n      }), this.state.modalcategory['financialterms'] && !isFinancialTermsDisabled && React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        className: \"button add-button float-right\",\n        onClick: function onClick(event) {\n          return _this3.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 651\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"cancel\",\n        value: \"Cancel\",\n        className: \"button cancel-button float-right\",\n        onClick: function onClick(event) {\n          _this3.props.handleNegNoAdd();\n\n          _this3.stateClear();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 659\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return AddNegotiationModal;\n}(React.Component);\n\nAddNegotiationModal.propTypes = {\n  handleNegNoAdd: PropTypes.func,\n  show: PropTypes.bool,\n  dealid: PropTypes.number,\n  loadDeal: PropTypes.func\n};\n;\nexport default AddNegotiationModal;","map":{"version":3,"sources":["/Users/andrewmarkham/Desktop/LMS/lms-front-end/src/components/Modals/AddNegotiationModal/addnegotiationmodal.js"],"names":["React","Select","moment","PropTypes","validateTheSpace","propertyname","unit","gla","length","validateTiming","cdate","term","fdate","validateFinancialTerms","rent1","rent1months","ti","intcomm","extcomm","llw","gfrent","gfrentmonths","AddNegotiationModal","props","onPropertyChange","event","setState","value","fetch","method","headers","body","JSON","stringify","property","then","response","json","units","forEach","element","dropDownEle","label","state","unitDropdown","push","propertyLoaded","onChange","name","setSate","onUnitChange","onGLAChange","target","onStatusChange","status","onCDateChange","onTermChange","onRent1Change","rent1start","rent1end","expirydate","onRent1MonthsChange","onFDateChange","onTIChange","onIntCommChange","onExtCommChange","onLLWChange","onFreeRentChange","onFreeRentMonthsChange","gfrentstartMoment","gfrentstart","format","gfrentend","add","handleBlur","field","touched","cdateMoment","subtract","expirydateOutput","handleSubmit","canBeSubmitted","preventDefault","fetchURL","dealid","dealneg","handleNegNoAdd","loadDeal","console","log","stateClear","handleNext","modalcategory","canNextTheSpace","canNextTiming","handleBack","thespace","timing","financialterms","freerent","propertyDropdown","loaded","properties","errors","isDisabled","Object","keys","some","x","errorsTheSpace","errorsTiming","errorsFinancialTerms","isTheSpaceDisabled","isTimingDisabled","isFinancialTermsDisabled","shouldMarkTheSpaceError","shouldMarkTimingError","shouldMarkFinancialTermsError","showHideClassName","show","Component","propTypes","func","bool","number"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './addnegotiationmodal.css';\nimport Select from 'react-select';\nimport moment from \"moment\";\nimport PropTypes from 'prop-types';\n\nfunction validateTheSpace(\n  propertyname, \n  unit,\n  gla, \n  ) { \n    return {\n      propertyname: (propertyname.length === 0),\n      unit: (unit.length === 0),\n      gla: (gla.length === 0),\n    };\n}\n\nfunction validateTiming(\n  cdate,\n  term,\n  fdate,\n  ) { \n  return {\n    cdate: (cdate.length === 0),\n    term: (term.length === 0),\n    fdate: (fdate.length === 0),\n  };\n}\n\nfunction validateFinancialTerms(\n  rent1, \n  rent1months,\n  ti,\n  intcomm,\n  extcomm,\n  llw,\n  gfrent,\n  gfrentmonths,\n  ) { \n  return {\n    rent1: (rent1.length === 0),\n    rent1months: (rent1months.length === 0),\n    ti: (ti.length === 0),\n    intcomm: (intcomm.length === 0),\n    extcomm: (extcomm.length === 0),\n    llw: (llw.length === 0),\n    gfrent: (gfrent.length === 0),\n    gfrentmonths: (gfrentmonths.length === 0),\n  };\n}\n\nclass AddNegotiationModal extends React.Component {\n  static propTypes = {\n    handleNegNoAdd: PropTypes.func,\n    show: PropTypes.bool,\n    dealid: PropTypes.number,\n    loadDeal: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalcategory: {\n        thespace: false,\n        timing: false,\n        financialterms: true,\n      },\n      unit: '',\n      propertyname: '',\n      gla: '',\n      status: '',\n      cdate: '',\n      term: '',\n      expirydate: '',\n      expirydateOutput: '',\n      fdate: '',\n      rent1: '',\n      rent1months: '',\n      rent1start: '',\n      rent1end: '',\n      ti: '',\n      intcomm: '',\n      extcomm: '',\n      llw: '',\n      gfrent: '',\n      gfrentmonths: '',\n      gfrentstart: '',\n      gfrentend: '',\n\n      touched: {\n        unit: false,\n        propertyname: false,\n        gla: false,\n        status: false,\n        cdate: false,\n        term: false,\n        fdate: false,\n        rent1: false,\n        rent1months: false,\n        ti: false,\n        intcomm: false,\n        extcomm: false,\n        llw: false,\n        freerent: false,\n      },\n      propertyDropdown: [],\n      unitDropdown: [],\n      propertyLoaded: false,\n      loaded: false,\n    }\n  }\n\n  async componentDidMount() {\n\n    await fetch('http://localhost:3000/adddealmodal/property', {\n      method: 'get',\n      headers: {'Content-Type': 'application/json'},\n    })\n      .then(response => response.json())\n      .then(properties => {\n        properties.forEach(element => {\n          let dropDownEle = { label: element[\"propertyname\"], value: element };\n          this.state.propertyDropdown.push(dropDownEle);\n        });      \n      })\n    this.setState({loaded: true})\n  }\n\n  onPropertyChange = (event) => {\n    this.setState({\n      propertyname: event.value.propertyname,\n    })\n\n      fetch('http://localhost:3000/adddealmodal/unit', {\n        method: 'post',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          property: event.value.propertyname,\n        })\n      })\n        .then(response => response.json())\n        .then(units => {\n          units.forEach(element => {\n            let dropDownEle = { label: element[\"unit\"], value: element };\n            this.state.unitDropdown.push(dropDownEle);\n          });  \n          this.setState({propertyLoaded: true})\n        })\n    \n  }\n\n  onChange = name = event => {\n    this.setSate({\n      [name]: event\n    });\n  }\n\n  onUnitChange = (event) => {\n    this.setState({unit: event.value.unit})\n  }\n\n  onGLAChange = (event) => {\n    this.setState({gla: event.target.value})\n  }\n\n  onStatusChange = (event) => {\n    this.setState({status: event.target.value})\n  }\n  \n  onCDateChange = (event) => {\n    this.setState({cdate: event.target.value})\n  }\n  \n  onTermChange = (event) => {\n    this.setState({term: event.target.value})\n  }\n  \n  onRent1Change = (event) => {\n    this.setState({\n      rent1: event.target.value,\n      rent1months: this.state.term,\n      rent1start: this.state.cdate,\n      rent1end: this.state.expirydate,\n    })\n  }\n  \n  onRent1MonthsChange = (event) => {\n    this.setState({rent1months: event.target.value})\n  }\n  \n  onFDateChange = (event) => {\n    this.setState({fdate: event.target.value})\n  }\n  \n  onTIChange = (event) => {\n    this.setState({ti: event.target.value})\n  }\n  \n  onIntCommChange = (event) => {\n    this.setState({intcomm: event.target.value})\n  }\n  \n  onExtCommChange = (event) => {\n    this.setState({extcomm: event.target.value})\n  }\n  \n  onLLWChange = (event) => {\n    this.setState({llw: event.target.value})\n  }\n  \n  onFreeRentChange = (event) => {\n    this.setState({gfrent: event.target.value})\n  }\n\n  onFreeRentMonthsChange = (event) => {\n    let gfrentstartMoment = moment(this.state.cdate, 'YYYY-MM-DD');\n    let gfrentstart = moment(gfrentstartMoment).format('YYYY-MM-DD');\n    let gfrentend = gfrentstartMoment.add(event.target.value, 'months').format('YYYY-MM-DD');\n    this.setState({\n      gfrentmonths: event.target.value,\n      gfrentstart: gfrentstart,\n      gfrentend: gfrentend,\n    })\n  }\n\n  handleBlur = (field) => (event) => {\n      this.setState({\n        touched: { ...this.state.touched, [field]: true},\n      });   \n      if((field === 'cdate') || (field === 'term')) {\n        if (this.state.cdate && this.state.term) {\n          let cdateMoment = moment(this.state.cdate, 'YYYY-MM-DD');\n          let expirydate = cdateMoment.add(this.state.term, 'months').subtract(1, 'days').format('YYYY-MM-DD');\n          let expirydateOutput = moment(expirydate).format('YYYY-MM-DD');\n          this.setState({ expirydate: expirydate })\n          this.setState({ expirydateOutput: expirydateOutput})\n        }\n      }\n  }\n\n  canNextTheSpace() {\n    const errors = validateTheSpace(this.state.propertyname, this.state.unit, this.state.gla);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    return !isDisabled;\n  }\n\n  canNextTiming() {\n    const errors = validateTiming(this.state.cdate, this.state.term, this.state.fdate);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    return !isDisabled;\n  }\n\n  canBeSubmitted() {\n    const errors = validateFinancialTerms(this.state.rent1, this.state.rent1months, this.state.ti, this.state.intcomm, this.state.extcomm, this.state.llw, this.state.gfrent, this.state.gfrentmonths);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    return !isDisabled;\n  }\n\n  handleSubmit = (event) => {\n    if (!this.canBeSubmitted()) {\n      this.setState({\n        touched: { ...this.state.touched, 'rent1': true, 'rent1months': true, 'ti': true, 'intcomm': true, 'extcomm': true, 'llw': true, 'gfrent': true, 'gfrentmonths': true}\n      })\n      event.preventDefault();\n      return;\n    }\n\n    const fetchURL = `http://localhost:3000/dealneg/${this.props.dealid}`;\n    fetch(fetchURL, {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        dealid: this.props.dealid,\n        propertyname: this.state.propertyname,\n        unit: this.state.unit,\n        gla: this.state.gla,\n        status: this.state.status,\n        /* add active */\n        cdate: this.state.cdate,\n        fdate: this.state.fdate,\n        rent1: this.state.rent1,\n        rent1start: this.state.rent1start,\n        rent1months: this.state.rent1months,\n        rent1end: this.state.rent1end,\n        ti: this.state.ti,\n        intcomm: this.state.intcomm,\n        extcomm: this.state.extcomm,\n        llw: this.state.llw,\n        gfrent: this.state.gfrent,\n        gfrentstart: this.state.gfrentstart,\n        gfrentend: this.state.gfrentend,\n      })\n    })\n      .then(response => response.json())\n      .then(dealneg => {\n        if(dealneg) {\n          this.props.handleNegNoAdd();\n          this.props.loadDeal();\n        } else { console.log(\"failure\")}\n      })\n    this.stateClear();\n  }\n\n  handleNext = (event) => {\n    if(this.state.modalcategory['thespace']) {\n      if (!this.canNextTheSpace()) {\n        this.setState({\n          touched: { ...this.state.touched, 'property': true, 'unit': true, 'gla': true}\n        })\n        event.preventDefault();\n        return;\n      } else {\n        this.setState({\n          modalcategory: { ...this.state.modalcategory, 'timing': true, 'thespace': false}\n        })\n      }\n    } else if (this.state.modalcategory['timing']) {\n      if (!this.canNextTiming()) {\n        this.setState({\n          touched: { ...this.state.touched, 'fdate': true, 'cdate': true, 'term': true, 'expirydate': true}\n        })\n        event.preventDefault();\n        return;\n      } else { \n        this.setState({\n          modalcategory: { ...this.state.modalcategory, 'financialterms': true, 'timing': false}\n        })\n        event.preventDefault();\n        return;\n      }\n    }\n  }\n\n  handleBack = () => {\n    if(this.state.modalcategory['timing']) {\n      this.setState({\n        modalcategory: { ...this.state.modalcategory, 'timing': false, 'thespace': true}\n      })\n    } else if (this.state.modalcategory['financialterms']) {\n      this.setState({\n        modalcategory: { ...this.state.modalcategory, 'financialterms': false, 'timing': true}\n      })\n    }\n  }\n\n  stateClear = () => {\n    this.setState({\n      modalcategory: {\n        thespace: true,\n        timing: false,\n        financialterms: false,\n      },\n      unit: '',\n      propertyname: '',\n      gla: '',\n      status: '',\n      cdate: '',\n      term: '',\n      expirydate: '',\n      fdate: '',\n      rent1: '',\n      rent1months: '',\n      rent1start: '',\n      rent1end: '',\n      ti: '',\n      intcomm: '',\n      extcomm: '',\n      llw: '',\n      gfrent: '',\n      gfrentstart: '',\n      gfrentend: '',\n\n      touched: {\n        unit: false,\n        propertyname: false,\n        gla: false,\n        status: false,\n        cdate: false,\n        term: false,\n        fdate: false,\n        rent1: false,\n        rent1months: false,\n        ti: false,\n        intcomm: false,\n        extcomm: false,\n        llw: false,\n      },\n      propertyLoaded: false,\n    })\n  }\n\n  render() {\n    const errorsTheSpace = validateTheSpace(this.state.propertyname, this.state.unit, this.state.gla);\n    const errorsTiming = validateTiming(this.state.cdate, this.state.term, this.state.fdate);\n    const errorsFinancialTerms = validateFinancialTerms(this.state.rent1, this.state.rent1months, this.state.ti, this.state.intcomm, this.state.extcomm, this.state.llw, this.state.gfrent, this.state.gfrentmonths);\n    \n    const isTheSpaceDisabled = Object.keys(errorsTheSpace).some(x => errorsTheSpace[x]);\n    const isTimingDisabled = Object.keys(errorsTiming).some(x => errorsTiming[x]);\n    const isFinancialTermsDisabled = Object.keys(errorsFinancialTerms).some(x => errorsFinancialTerms[x]);\n\n    const shouldMarkTheSpaceError = (field) => {\n      return errorsTheSpace[field] && this.state.touched[field];\n    }\n\n    const shouldMarkTimingError = (field) => {\n      return errorsTiming[field] && this.state.touched[field];\n    }\n\n    const shouldMarkFinancialTermsError = (field) => {\n      return errorsFinancialTerms[field] && this.state.touched[field];\n    }\n\n\n    const showHideClassName = this.props.show ? 'neg-modal display-block' : 'neg-modal display-none';\n    return (\n      <div className={showHideClassName}>\n        <React.Fragment>\n         { this.state.loaded && (\n           <div className='neg-modal-main'>\n              <div className=\"neg-modal-title\">Add New Stage of Negotiation</div>\n              <div className=\"neg-modal-body\">\n              <div className=\"neg-modal-body-header\">\n                    <p className={ this.state.modalcategory['thespace'] ? \"neg-header-sub active-sub\" : \"neg-header-sub\"}>1. The Space</p>\n                    <p className={ this.state.modalcategory['timing'] ? \"neg-header-sub active-sub\" : \"neg-header-sub\"}>2. Timing</p>\n                    <p className={ this.state.modalcategory['financialterms'] ? \"neg-header-sub active-sub\" : \"neg-header-sub\"}>3. Financial Terms</p>\n                  </div>\n                { this.state.modalcategory['thespace'] ? (\n                  <React.Fragment>\n                  \n                  <div className=\"neg-boxcontainer\">\n                    <div className=\"leftbox\">\n                      <p className={shouldMarkTheSpaceError('property') ? \"input-title-error\" : \"input-title\"}>Property:</p>\n                      <Select \n                        options={this.state.propertyDropdown}\n                        className=\"neg-form-input\"\n                        classNamePrefix=\"neg-form-input\"\n                        onChange={this.onPropertyChange}\n                        onBlur={this.handleBlur('property')}\n                      />\n\n                    { this.state.propertyLoaded ? ([\n                        <p className={shouldMarkTheSpaceError('unit') ? \"input-title-error\" : \"input-title\"}>Unit:</p>,\n                        <Select \n                          options={this.state.unitDropdown}\n                          className=\"neg-form-input\"\n                          classNamePrefix=\"neg-form-input\"\n                          onChange={this.onUnitChange}\n                          onBlur={this.handleBlur('unit')}\n                        />\n                      ]) : null }\n                    </div>\n                    <div className=\"rightbox\">\n                      <p className={shouldMarkTheSpaceError('gla') ? \"input-title-error\" : \"input-title\"}>GLA:</p>\n                      <input \n                        type=\"input\"\n                        value={this.state.gla}\n                        className=\"neg-form-input\"\n                        onChange={this.onGLAChange}\n                        onBlur={this.handleBlur('gla')}\n                      />\n                      <p className={shouldMarkTheSpaceError('status') ? \"input-title-error\" : \"input-title\"}>Negotiation Round:</p>\n                      <input \n                        type=\"input\"\n                        value={this.state.status}\n                        className=\"neg-form-input\"\n                        onChange={this.onStatusChange}\n                        onBlur={this.handleBlur('status')}\n                      />\n                    </div>\n                  </div>\n                  </React.Fragment>\n                ) : this.state.modalcategory['timing'] ? (\n                  <React.Fragment>\n                  <div className=\"neg-boxcontainer\">\n                    <div className=\"leftbox\">\n                      <p className={shouldMarkTimingError('cdate') ? \"input-title-error\" : \"input-title\"}>Commencement Date: (YYYY-MM-DD)</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.cdate}\n                        className=\"neg-form-input\"\n                        onChange={this.onCDateChange}\n                        onBlur={this.handleBlur('cdate')}\n                      />\n                      <p className={shouldMarkTimingError('fdate') ? \"input-title-error\" : \"input-title\"}>Fixturing Start Date: (YYYY-MM-DD)</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.fdate}\n                        className=\"neg-form-input\"\n                        onChange={this.onFDateChange}\n                        onBlur={this.handleBlur('fdate')}\n                      />\n                    </div>\n                    <div className=\"rightbox\">\n                      <p className={shouldMarkTimingError('term') ? \"input-title-error\" : \"input-title\"}>Term (months):</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.term}\n                        className=\"neg-form-input\"\n                        onChange={this.onTermChange}\n                        onBlur={this.handleBlur('term')}\n                      />\n                      <p className=\"input-title\">Expiry Date: (YYYY-MM-DD)</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.expirydateOutput}\n                        placeholder={this.state.expirydateOutput}\n                        className=\"neg-form-input\"\n                      />\n                    </div>\n                  </div>\n                  </React.Fragment>\n                  ) : (\n                  <React.Fragment>\n                  <div className=\"neg-boxcontainer\">\n                    <div className=\"leftbox\">\n                      <p className={shouldMarkFinancialTermsError('rent') ? \"input-title-error\" : \"input-title\"}>Rent:</p>\n                      <div className=\"input-box-container\">\n                        <div className=\"input-box-left\">\n                          <p className=\"input-subtitle\">PSF Amount:</p>\n                        </div>\n                        <div className=\"input-box-right\">\n                          <input\n                            type=\"input\"\n                            value={this.state.rent1}\n                            className=\"neg-form-input\"\n                            onChange={this.onRent1Change}\n                            onBlur={this.handleBlur('rent1')}\n                          />\n                        </div>\n                        <div className=\"input-box-left\">\n                          <p className=\"input-subtitle\">Months:</p>\n                        </div>\n                        <div className=\"input-box-right\">\n                          <input\n                            type=\"input\"\n                            value={this.state.rent1months}\n                            placeholder={this.state.rent1months}\n                            className=\"neg-form-input\"\n                          />\n                        </div>\n                      </div>\n                      <p className={shouldMarkFinancialTermsError('ti') ? \"input-title-error\" : \"input-title\"}>TI PSF:</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.ti}\n                        className=\"neg-form-input\"\n                        onChange={this.onTIChange}\n                        onBlur={this.handleBlur('ti')}\n                      />\n                      <p className={shouldMarkFinancialTermsError('llw') ? \"input-title-error\" : \"input-title\"}>LLW:</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.llw}\n                        className=\"neg-form-input\"\n                        onChange={this.onLLWChange}\n                        onBlur={this.handleBlur('llw')}\n                      />\n                    </div>\n                    <div className=\"rightbox\">\n                      <p className={shouldMarkFinancialTermsError('extcomm') ? \"input-title-error\" : \"input-title\"}>External Commission:</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.extcomm}\n                        className=\"neg-form-input\"\n                        onChange={this.onExtCommChange}\n                        onBlur={this.handleBlur('extcomm')}\n                      />\n                      <p className={shouldMarkFinancialTermsError('intcomm') ? \"input-title-error\" : \"input-title\"}>Internal Commission:</p>\n                      <input\n                        type=\"input\"\n                        value={this.state.intcomm}\n                        className=\"neg-form-input\"\n                        onChange={this.onIntCommChange}\n                        onBlur={this.handleBlur('intcomm')}\n                      />\n                      <p className={shouldMarkFinancialTermsError('gfrent') ? \"input-title-error\" : \"input-title\"}>Free Rent:</p>\n                      <div className=\"input-box-container\">\n                        <div className=\"input-box-left\">\n                          <p className=\"input-subtitle\">PSF Amount:</p>\n                        </div>\n                        <div className=\"input-box-right\">\n                          <input\n                            type=\"input\"\n                            className=\"neg-form-input-small\"\n                            onChange={this.onFreeRentChange}\n                            onBlur={this.handleBlur('gfrent')}\n                          />\n                        </div>\n                        <div className=\"input-box-left\">\n                          <p className=\"input-subtitle\"># of Months:</p>\n                        </div>\n                        <div className=\"input-box-right\">\n                          <input\n                            type=\"input\"\n                            className=\"neg-form-input-small\"\n                            onChange={this.onFreeRentMonthsChange}\n                            onBlur={this.handleBlur('gfrentmonths')}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  </React.Fragment>\n                  )}\n                  \n\n                  <div className=\"line\"></div>\n                  <div className=\"neg-buttons\">\n                    <div className=\"left\">\n                      { !this.state.modalcategory['thespace'] && (\n                        <input \n                          type=\"back\"\n                          value=\"Back\" \n                          className=\"button cancel-button float-left\"\n                          onClick={ (event) => this.handleBack(event)}\n                        />\n                      )}\n                    </div>\n                    <div className=\"right\">\n\n                      { ((this.state.modalcategory['thespace'] && isTheSpaceDisabled) || (this.state.modalcategory['timing'] && isTimingDisabled)) && (\n                          <input \n                            type=\"next\"\n                            value=\"Next\" \n                            className=\"button add-button-error float-right\"\n                            onClick={ (event) => this.handleNext(event)}\n                          />\n                      )}\n\n                      { (this.state.modalcategory['financialterms'] && isFinancialTermsDisabled) && (\n                          <input \n                            type=\"submit\"\n                            value=\"Submit\" \n                            className=\"button add-button-error float-right\"\n                            onClick={ (event) => this.handleSubmit(event)}\n                          />\n                      )} \n\n                      { ((this.state.modalcategory['thespace'] && !isTheSpaceDisabled) || (this.state.modalcategory['timing'] && !isTimingDisabled)) && (\n                          <input \n                            type=\"next\"\n                            value=\"Next\" \n                            className=\"button add-button float-right\"\n                            onClick={ (event) => this.handleNext(event)}\n                          />\n                      )}\n\n                      { (this.state.modalcategory['financialterms'] && !isFinancialTermsDisabled) && (\n                          <input \n                            type=\"submit\"\n                            value=\"Submit\" \n                            className=\"button add-button float-right\"\n                            onClick={ (event) => this.handleSubmit(event)}\n                          />\n                      )}\n\n                      <input\n                        type=\"cancel\"\n                        value=\"Cancel\"\n                        className=\"button cancel-button float-right\"\n                        onClick={ (event) => { this.props.handleNegNoAdd(); this.stateClear(); }}\n                      />\n                    </div>\n                  </div>\n              </div>\n          </div>\n         )}\n        </React.Fragment>\n      </div>\n    );\n  }\n};\n\nexport default AddNegotiationModal;"]},"metadata":{},"sourceType":"module"}